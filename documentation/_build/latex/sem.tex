%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{times}
\expandafter\ifx\csname T@LGR\endcsname\relax
\else
% LGR was declared as font encoding
  \substitutefont{LGR}{\rmdefault}{cmr}
  \substitutefont{LGR}{\sfdefault}{cmss}
  \substitutefont{LGR}{\ttdefault}{cmtt}
\fi
\expandafter\ifx\csname T@X2\endcsname\relax
  \expandafter\ifx\csname T@T2A\endcsname\relax
  \else
  % T2A was declared as font encoding
    \substitutefont{T2A}{\rmdefault}{cmr}
    \substitutefont{T2A}{\sfdefault}{cmss}
    \substitutefont{T2A}{\ttdefault}{cmtt}
  \fi
\else
% X2 was declared as font encoding
  \substitutefont{X2}{\rmdefault}{cmr}
  \substitutefont{X2}{\sfdefault}{cmss}
  \substitutefont{X2}{\ttdefault}{cmtt}
\fi


\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=\small}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}
\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{0}



\title{SEM}
\date{May 17, 2020}
\release{}
\author{Rui Taborda}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}
\noindent\sphinxincludegraphics{{praia-grande}.png}



SEM (Shoreline Evolution Model) is a powerful tool for simulating shoreline evolution at seasonal to decadal timescales that has a set of great features:
\begin{itemize}
\item {} 
beaches can develop in either sandy or rocky shores

\item {} 
flexible baseline definition

\item {} 
shapefile input and output

\item {} 
internal or external wave transformation schemes

\end{itemize}


\chapter{Motivation}
\label{\detokenize{docs/motivation:motivation}}\label{\detokenize{docs/motivation::doc}}
Shoreline evolution models are useful tools in analysing and predicting coastal morphological
evolution on seasonal to decadal time scales. Several analytic and numerical models have been
proposed to describe changes in shoreline based on analysis of the balance of sediment volumes
over a certain time period, assuming an equilibrium beach profile (Pelnard\sphinxhyphen{}Consid√®re, 1956; Hanson, 1989; Dabees and Kamphuis, 1998; Steetzel et al., 2000; Coelho et al., 2004).
In platform beaches, due to sediment scarcity, the equilibrium profile assumption is no longer valid so the longshore drift
estimates must consider the presence of a rocky shore platform and  limited sand availability.
The Shoreline Evolution Model\textendash{} SEM, was developed to simulate shoreline changes on coastal stretches
where continuous or pocket beaches develop over a rocky platform.

SEM model aims to predict beach development and evolution in headland\sphinxhyphen{}bay coasts
and targets the understanding of some key processes such as beach rotation and sediment headland bypassing.

The present documentation intends to describe SEM model, its fundamentals, calculations procedures and structure, as well its implementation in Phyton and setup.


\chapter{Installation}
\label{\detokenize{docs/installing:installation}}\label{\detokenize{docs/installing::doc}}
To complete


\chapter{First steps with SEM}
\label{\detokenize{docs/first-steps:first-steps-with-sem}}\label{\detokenize{docs/first-steps::doc}}

\section{Build your first model}
\label{\detokenize{docs/first-steps:build-your-first-model}}

\chapter{Computational grid}
\label{\detokenize{docs/computational-grid:computational-grid}}\label{\detokenize{docs/computational-grid::doc}}

\chapter{Boundary conditions}
\label{\detokenize{docs/boundary-conditions:boundary-conditions}}\label{\detokenize{docs/boundary-conditions::doc}}

\section{Offshore waves}
\label{\detokenize{docs/boundary-conditions:offshore-waves}}
Offshore wave conditions should be given as a wavetimeseries objet. Data sources include offshore wave buoys and model data. To simulate relative long periods, hindcast data are one of the best options, so the procedure is detailed below.


\subsection{Using ERA5 based ocean wave hindcast}
\label{\detokenize{docs/boundary-conditions:using-era5-based-ocean-wave-hindcast}}
\sphinxhref{https://www.ecmwf.int/en/forecasts/datasets/reanalysis-datasets/era5}{ERA5} is the fifth generation ECMWF (European Centre for Medium\sphinxhyphen{}Range Weather Forecasts) atmospheric reanalysis of the global climate and have a horizontal resolution of 0.5 \(^{\circ}\) x 0.5 \(^{\circ}\) for waves.

\begin{sphinxadmonition}{warning}{Warning:}
Prior to download the wave data make sure that the CDS API and xarray package are properly installed.

See \DUrole{xref,std,std-doc}{/docs/ERA5\sphinxhyphen{}prerequisites} for details.
\end{sphinxadmonition}


\subsubsection{1 \sphinxhyphen{} Data selection and downloading}
\label{\detokenize{docs/boundary-conditions:data-selection-and-downloading}}\begin{quote}

The best way to navigate to the available data is to open \sphinxhref{https://cds.climate.copernicus.eu/cdsapp\#!/dataset/reanalysis-era5-single-levels?tab=form}{ERA5 download page} and in the \sphinxstyleemphasis{download tab} select the desired data. In the bottom of the same panel click on the \sphinxstyleemphasis{Show API request} button and copy the code to a python file.
\end{quote}

\begin{sphinxShadowBox}
\sphinxstyletopictitle{Example}

Example of a code for downloading a grib file with wave significant height, mean period and mean direction, for a region offshore mainland Portugal, for all available hours of day 01\sphinxhyphen{}April\sphinxhyphen{}2020. Data will be download to a file named \sphinxstyleemphasis{download.grib}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{cdsapi}
\PYG{n}{c} \PYG{o}{=} \PYG{n}{cdsapi}\PYG{o}{.}\PYG{n}{Client}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{c}\PYG{o}{.}\PYG{n}{retrieve}\PYG{p}{(}
   \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{reanalysis\PYGZhy{}era5\PYGZhy{}single\PYGZhy{}levels}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
   \PYG{p}{\PYGZob{}}
      \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{product\PYGZus{}type}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{reanalysis}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
      \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{format}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{grib}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
      \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{variable}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{p}{[}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{mean\PYGZus{}wave\PYGZus{}direction}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{mean\PYGZus{}wave\PYGZus{}period}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{significant\PYGZus{}height\PYGZus{}of\PYGZus{}combined\PYGZus{}wind\PYGZus{}waves\PYGZus{}and\PYGZus{}swell}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
      \PYG{p}{]}\PYG{p}{,}
      \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{year}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{2020}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
      \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{month}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{04}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
      \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{day}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{01}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
      \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{time}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{p}{[}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{00:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{01:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{02:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{03:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{04:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{05:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{06:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{07:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{08:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{09:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{10:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{11:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{12:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{13:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{14:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{15:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{16:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{17:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{18:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{19:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{20:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{21:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{22:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{23:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
      \PYG{p}{]}\PYG{p}{,}
      \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{area}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{p}{[}
            \PYG{l+m+mi}{43}\PYG{p}{,} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{13}\PYG{p}{,} \PYG{l+m+mi}{36}\PYG{p}{,}
            \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{7}\PYG{p}{,}
      \PYG{p}{]}\PYG{p}{,}
   \PYG{p}{\PYGZcb{}}\PYG{p}{,}
   \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{download.grib}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

Output on pyton console

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+m}{2020}\PYGZhy{}05\PYGZhy{}15 \PYG{l+m}{19}:26:36,562 INFO Welcome to the CDS
\PYG{l+m}{2020}\PYGZhy{}05\PYGZhy{}15 \PYG{l+m}{19}:26:36,567 INFO Sending request to https://cds.climate.copernicus.eu/api/v2/resources/reanalysis\PYGZhy{}era5\PYGZhy{}single\PYGZhy{}levels
\PYG{l+m}{2020}\PYGZhy{}05\PYGZhy{}15 \PYG{l+m}{19}:26:39,209 INFO Request is queued
\PYG{l+m}{2020}\PYGZhy{}05\PYGZhy{}15 \PYG{l+m}{19}:26:44,134 INFO Request is running
\PYG{l+m}{2020}\PYGZhy{}05\PYGZhy{}15 \PYG{l+m}{19}:26:52,695 INFO Request is completed
\PYG{l+m}{2020}\PYGZhy{}05\PYGZhy{}15 \PYG{l+m}{19}:26:52,697 INFO Downloading http://136.156.133.25/cache\PYGZhy{}compute\PYGZhy{}0008/cache/data5/adaptor.mars.internal\PYGZhy{}1589567202.6668167\PYGZhy{}11772\PYGZhy{}35\PYGZhy{}ea112760\PYGZhy{}394c\PYGZhy{}4211\PYGZhy{}a63e\PYGZhy{}bdfd778e233c.grib to download.grib \PYG{o}{(}\PYG{l+m}{33}.8K\PYG{o}{)}
\PYG{l+m}{2020}\PYGZhy{}05\PYGZhy{}15 \PYG{l+m}{19}:26:52,876 INFO Download rate \PYG{l+m}{190}.7K/s
\end{sphinxVerbatim}
\end{sphinxShadowBox}

2  \sphinxhyphen{} Loading and converting the data to a wavetimeseries



\renewcommand{\indexname}{Index}
\printindex
\end{document}